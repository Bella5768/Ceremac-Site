{% extends 'main/base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Actualités" %}{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section" style="padding: 120px 0 100px; background-image: url('https://images.unsplash.com/photo-1504711434969-e33886168f5c?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80');">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto text-center">
                <h1 style="font-size: 3.5rem; margin-bottom: 25px; text-shadow: 3px 3px 6px rgba(0,0,0,0.9); color: white; font-weight: 700;">{% trans "Actualités & Événements" %}</h1>
            </div>
        </div>
    </div>
</section>

<section class="py-5">
    <div class="container">
        {% if news_list %}
        <div class="row">
            {% for news in news_list %}
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="card news-card h-100">
                    {% if news.image %}
                    <img src="{{ news.image.url }}" class="card-img-top" alt="{{ news.title }}" style="height: 220px; object-fit: cover;">
                    {% else %}
                    <img src="https://images.unsplash.com/photo-1583212292454-1fe6229603b7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="{{ news.title }}" style="height: 220px; object-fit: cover;">
                    {% endif %}
                    <div class="card-body">
                        <span class="badge badge-custom">{{ news.date_created|date:"d/m/Y" }}</span>
                        <h5 class="card-title mt-3">{{ news.title }}</h5>
                        <p class="card-text">{{ news.content|truncatewords:30|striptags }}</p>
                        <a href="{% url 'main:news_detail' news.pk %}" class="btn btn-primary btn-sm">{% trans "Lire la suite" %} <i class="bi bi-arrow-right"></i></a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="alert alert-info">{% trans "Aucune actualité pour le moment." %}</div>
        {% endif %}
    </div>
</section>
{% endblock %}

